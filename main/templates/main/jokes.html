{% extends 'main/template.html '%}

{% block title %}
–†–∂–∞–∫–∞
{% endblock %}

{% block content %}
<style>
    .absurd-card {
        transition: transform 0.3s;
    }

    .absurd-card:hover {
        transform: translateY(-5px) rotate(1deg);
    }

    .laugh-btn {
        transition: all 0.2s;
    }
</style>
<div class="container mt-5">
    <div class="row">
        <div class="col-12 text-center mb-4">
            <h1 class="display-4">ü§° –ö–æ–ª–ª–µ–∫—Ü–∏—è –±–µ—Å—Ç–æ–ª–∫–æ–≤—ã—Ö –∞–Ω–µ–∫–¥–æ—Ç–æ–≤ ü§°</h1>
        </div>
    </div>
    {% if messages %}
        <div class="messages">
            {% for message in messages %}
            <div class="alert alert-{{ message.tags }}">
                {{ message }}
            </div>
            {% endfor %}
        </div>
        {% endif %}
    <div class="row row-cols-1 row-cols-md-2 g-4">
        {% if jokes %}
        {% for el in jokes%}
        <div class="col">
            <div class="card h-100 border-warning absurd-card">
                <div class="card-header bg-warning bg-opacity-10">
                    {{ el.title }}
                </div>
                <div class="card-body">
                    <p class="card-text">{{ el.joke }}</p>
                </div>
                <div class="card-footer text-muted">
                    <form method="post" action="{% url 'vote_joke' el.id %}">
                        {% csrf_token %}
                        <button type="submit" class="btn btn-sm btn-outline-danger laugh-btn">
                            –°–º–µ—è–ª–∏—Å—å: <span class="badge bg-danger">{{ el.votes }}</span>
                        </button>
                    </form>
                </div>
            </div>
        </div>
        {% endfor %}
        {% else %}
        <p>–ù–∏–∫—Ç–æ –Ω–µ –ø–æ—à—É—Ç–∏–ª</p>
        {% endif %}
    </div>
    <div class="row mt-5">
        <div class="col-md-6 mx-auto">
            <div class="card border-danger">
                <div class="card-header bg-danger text-white">
                    –î–æ–±–∞–≤–∏—Ç—å –±–µ—Å—Ç–æ–ª–∫–æ–≤—ã–π –∞–Ω–µ–∫–¥–æ—Ç
                </div>
                <div class="card-body">
                    <span>
                        {{ context.error }}
                    </span>
                    <form method="post" id="joke-form">
                        {% csrf_token %}
                        <div class="mb-3">
                            <label for="joke-text" class="form-label">–í–∞—à "–∞–Ω–µ–∫–¥–æ—Ç":</label>
                            {{ context.form.title }}
                            {{ context.form.joke }}
                        </div>
                        <button type="submit" class="btn btn-danger">–û—Ç–ø—Ä–∞–≤–∏—Ç—å –≤ –Ω–∏–∫—É–¥–∞</button>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- <div class="row mt-5">
        <div class="col-12">
            <h3 class="text-center mb-4">üèÜ "–õ—É—á—à–∏–µ" –∞–Ω–µ–∫–¥–æ—Ç—ã</h3>
            <ul class="list-group">
                <li class="list-group-item d-flex justify-content-between align-items-center">
                    –ü–æ—á–µ–º—É –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç—ã —Ç–∞–∫–∏–µ —Ö—É–¥—ã–µ?
                    <span class="badge bg-primary rounded-pill">3 "—Å–º–µ—Ö–∞"</span>
                </li>
                <li class="list-group-item d-flex justify-content-between align-items-center">
                    –ö–∞–∫ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è –±–æ—è–∑–Ω—å –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞—Ç—å?
                    <span class="badge bg-primary rounded-pill">1 "—Å–º–µ—Ö"</span>
                </li>
            </ul>
        </div>
    </div> -->
</div>
{% endblock %}